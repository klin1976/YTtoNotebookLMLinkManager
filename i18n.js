// 多語系設定
const i18n = {
  en: {
    title: "YouTube to NotebookLM Link Manager",
    subtitle: "Batch extract video links for NotebookLM",
    apiKeyLabel: "YouTube Data API Key",
    apiKeyPlaceholder: "Paste your API Key here...",
    apiKeyHelp: "How to get an API Key?",
    apiKeyShow: "Show",
    apiKeyHide: "Hide",
    urlLabel: "YouTube URL",
    urlPlaceholder: "Paste playlist or channel URL...",
    analyzeBtn: "Analyze",
    analyzing: "Analyzing...",
    selectAll: "Select All",
    deselectAll: "Deselect All",
    copySelected: "Copy Selected Links",
    copied: "Copied!",
    noVideos: "No videos found (Shorts and videos under 60s are excluded)",
    invalidUrl: "Invalid YouTube URL",
    apiError: "API Error",
    quotaExceeded: "API quota exceeded. Try again tomorrow or use a different API Key.",
    networkError: "Network error. Please check your connection.",
    invalidApiKey: "Invalid API Key",
    videosFound: "videos found",
    selected: "selected",
    duration: "Duration",
    filterInfo: "Shorts and videos under 60 seconds are automatically excluded",
    savedKey: "API Key saved",
    clearedKey: "API Key cleared",
    clearKey: "Clear saved key",
    // Info sections
    apiKeyTitle: "Get YouTube Data API Key",
    apiKeyNote: "Each API Key has a daily quota of 10,000 units. Fetching a playlist consumes about 50-200 units.",
    stepsTitle: "Steps",
    step1: "Go to ",
    step1Link: "Google Cloud Console",
    step2: "Create a project (or select an existing one)",
    step3_1: "Left menu → ",
    step3_2: "APIs & Services",
    step3_3: " → ",
    step3_4: "Library",
    step4_1: "Search for ",
    step4_2: " → Click ",
    step4_3: "Enable",
    step5_1: "Left menu → ",
    step5_2: "Credentials",
    step5_3: " → ",
    step5_4: "Create Credentials",
    step5_5: " → ",
    step5_6: "API Key",
    step6: "Copy the generated API Key and paste it into the website",
    usageTitle: "How to Use",
    usage1: "Open ",
    usage1Link: "this website",
    usage2: "Enter your YouTube Data API Key (only required on first use, it will be remembered)",
    usage3: "Paste a YouTube playlist or channel URL, for example:",
    usage4: "Click the \"Analyze\" button",
    usage5: "Select the videos you need",
    usage6: "Click \"Copy Selected Links\"",
    usage7: "Paste the links into NotebookLM"
  },
  zh: {
    title: "YouTube to NotebookLM 連結管理器",
    subtitle: "批次擷取影片連結，快速匯入 NotebookLM",
    apiKeyLabel: "YouTube Data API Key",
    apiKeyPlaceholder: "在此貼上你的 API Key...",
    apiKeyHelp: "如何取得 API Key？",
    apiKeyShow: "顯示",
    apiKeyHide: "隱藏",
    urlLabel: "YouTube 網址",
    urlPlaceholder: "貼上播放清單或頻道網址...",
    analyzeBtn: "分析",
    analyzing: "分析中...",
    selectAll: "全選",
    deselectAll: "取消全選",
    copySelected: "複製已選連結",
    copied: "已複製！",
    noVideos: "找不到影片（Shorts 及 60 秒以下影片已排除）",
    invalidUrl: "無效的 YouTube 網址",
    apiError: "API 錯誤",
    quotaExceeded: "API 配額已用完，請明天再試或更換 API Key。",
    networkError: "網路錯誤，請檢查連線。",
    invalidApiKey: "無效的 API Key",
    videosFound: "部影片",
    selected: "已選擇",
    duration: "時長",
    filterInfo: "Shorts 及 60 秒以下影片已自動排除",
    savedKey: "API Key 已儲存",
    clearedKey: "API Key 已清除",
    clearKey: "清除已儲存的 Key",
    // Info sections
    apiKeyTitle: "取得 YouTube Data API Key",
    apiKeyNote: "每個 API Key 每日有 10,000 單位配額，抓取一次播放清單約消耗 50-200 單位。",
    stepsTitle: "步驟",
    step1: "前往 ",
    step1Link: "Google Cloud Console",
    step2: "建立專案（或選擇現有專案）",
    step3_1: "左側選單 → ",
    step3_2: "API 和服務",
    step3_3: " → ",
    step3_4: "資料庫",
    step4_1: "搜尋 ",
    step4_2: " → 點擊 ",
    step4_3: "啟用",
    step5_1: "左側選單 → ",
    step5_2: "憑證",
    step5_3: " → ",
    step5_4: "建立憑證",
    step5_5: " → ",
    step5_6: "API 金鑰",
    step6: "複製產生的 API Key，貼到網站中",
    usageTitle: "使用方式",
    usage1: "開啟 ",
    usage1Link: "線上網站",
    usage2: "輸入你的 YouTube Data API Key（首次使用需輸入，之後會自動記住）",
    usage3: "貼上 YouTube 播放清單或頻道網址，例如：",
    usage4: "點擊「分析」按鈕",
    usage5: "勾選需要的影片",
    usage6: "點擊「複製已選連結」",
    usage7: "到 NotebookLM 貼上連結"
  }
};

let currentLang = localStorage.getItem('ytlm_lang') || 'zh';

function t(key) {
  return i18n[currentLang][key] || i18n['en'][key] || key;
}

function setLang(lang) {
  currentLang = lang;
  localStorage.setItem('ytlm_lang', lang);
  updateUI();
}
